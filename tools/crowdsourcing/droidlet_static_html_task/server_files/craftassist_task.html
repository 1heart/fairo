<!-- Bootstrap v3.0.3 -->
<link
  rel="stylesheet"
  href="https://stackpath.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
/>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- Modal --><!-- MODAL -->

<div
  aria-hidden="true"
  aria-labelledby="exampleModalLabel"
  class="modal fade bd-example-modal-lg"
  id="exampleModal"
  role="dialog"
  tabindex="-1"
>
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button
          aria-label="Close"
          class="close"
          data-dismiss="modal"
          type="button"
        >
          <span aria-hidden="true"> &times; </span>
        </button>
      </div>

      <div class="modal-body" id="modal"></div>

      <div class="modal-footer">
        <button class="btn btn-secondary" data-dismiss="modal" type="button">
          Close
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Content -->

<section
  class="container"
  id="Other"
  style="
    margin-bottom: 15px;
    padding: 10px;
    font-family: Verdana, Geneva, sans-serif;
    font-size: 0.9em;
  "
>
  <div class="row col-xs-12 col-md-12">
    <!-- Instructions -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <button class="btn btn-primary" type="button" data-toggle="collapse" data-target="#instructionsWrapper" aria-expanded="false" aria-controls="instructionsWrapper">
          Click here to view/hide instructions
        </button>
      </div>
<<<<<<< HEAD
      <div class="collapse" id=instructionsWrapper>
        <div id="instructions">
          <h1><strong>Interact with an assistant in a 3-D world</strong></h1>    
          <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_world_agent_labeled.png" width="30%" height="180"></iframe>
          <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_2_labeled.png" width="30%" height="180"></iframe>
          <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_3_labeled.png" width="30%" height="180"></iframe>
          <p>
            <h3>You are playing a game in a 3-D world with an assistant who can help you.</h3>
            <h4>Use your imagination and creativity to <i>interact with the assistant by asking it to do things.</i></h4>
          </p>
        
          <p><b style="color: red;">IMPORTANT - Please note that you will only get paid if you:
            <ol>
              <li>Click "Start" in the bottom right to begin session.</li>
              <li>Interact with the assistant for the <i>full 5 minutes.</i></li>
              <li>Click on "End" in the bottom right.</li>
              <li>Click on "Submit" button at the bottom.</li>
            </ol>
          </b></p>

          <h3>Example Task Interface</h3>
          <img class=center src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/mturk_dashboard.png" width="60%"></iframe>

          <h3>How to move around the 3-D world</h3>
          <p>
=======
      <div class="panel-body" id="instructions">
        <p>
            <h1><strong>Interact with an assistant in a 3-D world creative game.</strong></h1>            
            <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_world_agent.png" width="320" height="240">
            <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_2.png" width="320" height="240">
            <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/voxel_3.png" width="320" height="240">
            
            <p><b>Imagine you are playing a creative game in a 3-D voxel world and you have access to an assistant (as shown in some screenshots above) that can help you get things done.</b><br />
            <b>Use your imagination and creativity to interact with the assistant. In the setup here, you will be logged in to the voxel world along with the assistant.</b> You can control your position in the 3-D world by clicking on the bottom-left pane and then using the navigation buttons.<br />
            </p>

            <h5><b style="color:#FF0000;">IMPORTANT: You must click "start" and "end" session in the bottom right pane for your interactions to be recorded!
            
              Please note that you will only get paid if you:
              <p> 1. Click "start" in the bottom right to begin session. Interact with the bot for full 5 minutes. </p> 
              <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/click_start_instruction.png" width="320" height="280">
              <p> 2. Once you are done interacting, click on "end" in the bottom right. </p> 
              <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/click_finish_instruction.png" width="320" height="280">
              <p> 3. Click on "Submit" button at the bottom. </p> 
            
            </b></h5>

            <h3>How to enter voxel world and control</h3>
            <p>Please click on the upper right pane to enter the 3-D voxel world.<br />
            <b>Please use ‘w/a/s/d’ to move ‘forward/left/back/right’ , ‘space’ to jump and ‘esc’ to leave the world and back to the website.</b><br /></p>
            
            
            <h3>Interacting with the assistant</h3>
            <p>Please use the <b>chat box in the top left pane</b> to speak with and instruct the assistant. <br />
            <p>We ask that you interact with the agent for <b>at least 5 minutes.</b></p> 
            <b>Press “submit” when you are ready to send the command to the assistant</b>. Once you send the command, you should be able to see the assistant execute the command in the 3-D world on bottom-left. The assistant might also send you replies once in a while and you can see that below the “Submit” button. <br />
            <b>The bot might be slow to respond due to network lag. You may expect a few seconds between sending a command and getting responses from the agent (we are improving it!).Please be patient and do not send multiple commands at a time</b>
            
            <p>On the bottom left you will be able to see a history of the last 5 commands you’ve sent to the assistant in the game. </p>
            <b>Keep in mind that the bot is non-violent. </b></p>
            <p>&nbsp;</p>
            
            <b>You can assume that the bot has the following capabilities:</b>
>>>>>>> yuxuans/hitl
            <ul>
              <li>Click on the upper right pane to enter the game.</li>
              <li>Press ‘w/a/s/d’ buttons to move forward/left/back/right and ‘space’ to jump.</li>
              <li>Press ‘esc’ to leave the world.</li>
            </ul>
<<<<<<< HEAD
          </p>            
          
          <h3>Interacting with the assistant</h3>
          <p>
            Please use the <b>chat box in the top left pane</b> to speak with and instruct the assistant. <br>
            We ask that you interact with the assistant for <b>at least 5 minutes.</b>
            <img class=center src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/dashboard_text_entry_highlight.png" width="60%"></iframe>
          </p>
          <p>
            <ul>
              <li><b>Press “submit” just below the chat box to send the command to the assistant.</b></li>
              <li><b>The assistant might be slow to respond. Please be patient and do not send multiple commands at a time.</b></li>
              <li>You should then see the assistant execute the command in the 3-D world.</li>
              <li>The assistant might also send you replies below the chat box.</li>
              <li>In the bottom left pane are the last 5 commands you’ve sent.</li>
            </ul>
          </p>

          <p>
            <h3>Assistant Capabilities</h3>
            <h4 style="color: red;">Keep in mind that the assistant is non-violent!</h4>
=======
            <br />
            <p><b>You can talk to the bot as you would to another human player to instruct it to perform actions mentioned above, ask it questions, or to give it information.</b></p><br />
            
            <h3> Mark Errors </h3>
            <p>If the agent fails to do something you asked, please mark the failure! <br />
            <p>This is done by clicking the <b style="color:#FF0000;">MARK ERROR</b> button next to the command. </p> 
            <img src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/mark_errors_big_button.png" width="640" height="570">
            <p>If the agent fails, you will be prompted for more information.</p> 

            <b>Please use your imagination to come up with things you'd like to say to the bot to make the interaction rich, given the bot’s capabilities. Be as creative as you can.</b> </br>
            <b>The instructions should be related to the bot's capabilities, please give us as much variety as you can.</b><br />
            <b>Remember that the bot is non-violent. Please click on the start button when you are ready and once finished, click on the “end” button to proceed to next steps.</b>
            <p><strong><span style="color:#FF0000;">Rejection policy: You HIT will be rejected if any of these are violated</span></strong></p>
            
>>>>>>> yuxuans/hitl
            <ul>
              <li><b>Move</b> (to a place or structure)</li>
              <li><b>Build</b> (a shape or structure)</li>
              <li><b>Destroy</b></li>
              <li><b>Dance</b></li>
              <li><b>Get</b> (an object)</li>
              <li><b>Tag</b> (rename something)</li>
              <li><b>Dig</b></li>
              <li><b>Copy</b> (make a copy of an object)</li>
              <li><b>Undo</b></li>
              <li><b>Fill</b> (up a hole or structure)</li>
              <li><b>Spawn</b> (create an animal)</li>
              <li><b>Answer</b> (a question)</li>
              <li><b>Stop</b> </li>
              <li><b>Resume</b> (an earlier action)</li>
            </ul>
          </p>

          <p>
            <b>Example Command 1: </b>"Build a red square there"<br>
            <b>Example Command 2: </b>"Dig a hole next to this red square"
          </p>
          
          <h3> Mark Errors <b style="color: red;">- Very Important!</b></h3>
          <p>
            If the assistant fails to do something you asked, you must click the <b style="color:red;">MARK ERROR</b> button.
          </p>
          <img class=center src="https://craftassist.s3-us-west-2.amazonaws.com/pubr/mark_errors_big_button.png" width="80%"></iframe>
          
          <!--<p>If the assistant fails, you will be prompted for more information.</p> -->

          <p>
            <h3>Tips</h3>
            <ul>
              <li><b>Be creative! Make the interaction interesting, within the assistant's capabilities.</b></li>
              <li><b>Please use as much variety as you can! Don't give the same commands over and over</b></li>
            </ul>
          </p>

          <p>
            <h3 style="color:red;">Rejection policy - You HIT will be rejected if any of these are violated:</h3>
          </p>
          
          <ul>
            <li>The commands must be valid English sentences.</li>
            <li>The commands must use the above list of capabilities</li>
            <li>All commands must be unique.</li>
            <li>If you do multiple HITs, you must use new commands each time.</li>
          </ul>
        </div>
      </div>
    </div>
    <!-- End Instructions -->
    <!-- Commands Reminder -->
    <div class="panel panel-primary">
      <div class="panel-heading">
        <strong>Assistant Capabilities</strong>
      </div>
      <p>
        <ul>
          <li><b>Move</b> (to a place or structure)</li>
          <li><b>Build</b> (a shape or structure)</li>
          <li><b>Destroy</b></li>
          <li><b>Dance</b></li>
          <li><b>Get</b> (an object)</li>
          <li><b>Tag</b> (rename something)</li>
          <li><b>Dig</b></li>
          <li><b>Copy</b> (make a copy of an object)</li>
          <li><b>Undo</b></li>
          <li><b>Fill</b> (up a hole or structure)</li>
          <li><b>Spawn</b> (create an animal)</li>
          <li><b>Answer</b> (a question)</li>
          <li><b>Stop</b> </li>
          <li><b>Resume</b> (an earlier action)</li>
        </ul>
      </p>
    </div>
    <!-- End Commands Reminder -->
  </div>
</section>

<section
  class="container"
  id="Other"
  style="
    margin-bottom: 15px;
    padding: 10px;
    font-family: Verdana, Geneva, sans-serif;
    font-size: 0.9em;
    height: 1000px;
  "
>
<iframe style="width:100%; height:100%;" src="https://${subdomain}.craftassist.io/turk.html?turk_experiment_id=${batch}&mephisto_agent_id=${mephisto_agent_id}&turk_worker_id=${provider_worker_id}"></iframe>
</section>


<script>
  $(function () {
    modal_body = $("#modal");
    $("#instructions").clone().appendTo(modal_body);
    $(".modal").modal("show");
  });
</script>

<style type="text/css">
  p, ul, ol {
    font-size: 1.1em;
  }

  h1 {
    text-align: center;
  }

  fieldset {
    padding: 10px;
    background: #fbfbfb;
    border-radius: 5px;
    margin-bottom: 5px;
  }

  .center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

  .input_location {
    background-color: blanchedalmond;
    padding: 10px;
  }
</style>
